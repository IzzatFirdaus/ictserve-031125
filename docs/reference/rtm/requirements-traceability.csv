srs_id,module,requirement_description,business_ref,design_ref,code_ref,test_case,implementation_status,notes
FR-001,Helpdesk,Digital complaint form (Borang aduan digital),D02 BR-001,D04 §4.1,"app/Livewire/TicketForm, app/Http/Controllers/TicketController","tests/Feature/TicketFormTest.php::test_user_can_create_ticket",completed,Form validation, file upload, category selection implemented
FR-002,Helpdesk,Auto ticket numbering,D02 BR-002,D09 Jadual tickets,"database/migrations/2025_10_20_065548_create_helpdesk_tickets_table.php, app/Models/Ticket.php","tests/Feature/TicketAutoNumberTest.php::test_ticket_number_auto_generated",completed,Uses database trigger (trg_ticket_before_insert) for sequential numbering
FR-003,Helpdesk,Categories & priority classification,D02 BR-001,D04 §4.1,"app/Filament/Resources/TicketCategoryResource, config/helpdesk.php","tests/Feature/TicketCategoryTest.php",completed,Categories managed via Filament admin, supports custom priorities
FR-004,Asset Loan,Digital application form (Borang permohonan digital),D02 BR-003,D04 §4.2,"app/Livewire/LoanApplicationForm, app/Http/Controllers/LoanApplicationController","tests/Feature/LoanApplicationFormTest.php::test_user_can_submit_application",completed,Real-time validation, equipment selection, condition reporting
FR-005,Asset Loan,Approval workflow (Workflow kelulusan),D02 BR-004,D09 Jadual approvals,"app/Models/LoanApproval, app/Filament/Resources/LoanApprovalResource, database/migrations/2025_10_20_000003","tests/Feature/LoanApprovalWorkflowTest.php",completed,Multi-stage approval, audit logged via owen-it/laravel-auditing
FR-006,Inventory,ICT asset catalog (Katalog aset ICT),D02 BR-005,D09 Jadual assets,"app/Models/Asset, app/Filament/Resources/AssetResource, database/migrations/2025_10_20_000001","tests/Feature/AssetInventoryTest.php",completed,Asset tracking, condition status, acquisition cost tracking
FR-007,Auth,Role-based access control (RBAC),D02 BR-006,D11 §7,"app/Policies/*, config/permission.php, Spatie\Permission\Traits\HasRoles","tests/Feature/RBACTest.php, tests/Unit/PolicyTest.php",completed,Uses Spatie permissions package; roles: admin, technician, division-head, user
FR-008,Audit,Complete audit trail (Audit trail lengkap),D02 BR-007,D09 Jadual audit_logs,"database/migrations/2025_10_17_032608_create_audits_table.php, app/Models/Traits, OwenIt\Auditing\Auditable","tests/Feature/AuditTrailTest.php",completed,All model changes logged; retention per D05 data retention policy
NFR-001,Performance,Page load time < 2 seconds (p95),D02 BR-008,D11 §9,"config/cache.php, routes/web.php [cache middleware], app/Services/QueryOptimizer","tests/Feature/PerformanceTest.php::test_page_load_under_2s",in-progress,Database query optimization ongoing; caching layer deployed
NFR-002,Security,HTTPS/TLS 1.3+ enforcement,D02 BR-009,D11 §8,"bootstrap/app.php [forceHttps], config/session.php [secure flag]","tests/Feature/SecurityHeaderTest.php",completed,Production enforces HSTS; staging allows HTTP for dev
NFR-003,Accessibility,WCAG 2.2 Level AA compliance,D02 BR-010,D12 §4 + D14 §3,"resources/views/*, app/Livewire/*, .github/workflows/accessibility.yml","tests/Feature/AccessibilityTest.php, axe-core CI scans",completed,Automated scans via GitHub Actions; manual testing per D12
NFR-004,Localization,Bahasa Melayu primary + English secondary,D02 BR-011,D15 §2,"resources/lang/ms, resources/lang/en, blade {{__() }} helpers","tests/Feature/LocalizationTest.php",completed,Translation keys managed via Laravel localization; date/time formatting per locale
NFR-005,Data Privacy,PDPA 2010 + ISO 27701 compliance,D02 BR-012,D11 §6 + D05 §7,"app/Models (encrypted casts), config/audit.php (retention), database (column encryption)","tests/Feature/PrivacyTest.php, tests/Feature/DataRetentionTest.php",completed,Sensitive fields encrypted at rest; audit log retention enforced
NFR-006,Disaster Recovery,RTO 4 hours; RPO 1 hour,D02 BR-013,D05 §4,"scripts/backup/backup.sh, D11 §13 [monitoring/alerting]","tests/Feature/BackupRestoreTest.php::test_restore_time",in-progress,Automated backups every 1 hour; restore testing scheduled weekly
NFR-007,API Rate Limiting,100 requests/min per token,D02 BR-014,D08 §5,"routes/api.php [throttle:api], config/ratelimit.php","tests/Feature/ApiRateLimitTest.php",completed,Enforced via Throttle middleware; returns 429 with Retry-After
NFR-008,Audit Logging,All sensitive operations logged,D02 BR-015,D10 §9,"app/Models (Auditable trait), database/migrations/2025_10_17_032608, storage/logs/audit.log","tests/Feature/AuditLoggingTest.php",completed,User_id, action, timestamp, request_id captured; 7-year retention
LANG-001,Localization,Translate all UI text to Bahasa Melayu,D02 BR-011,D15 §3,"resources/lang/ms/app.php, resources/views (lang attributes)","tests/Feature/TranslationCoverageTest.php",completed,"72+ keys extracted and translated; validation ensures no untranslated strings in prod"
LANG-002,Localization,Provide English translation for technical terms,D02 BR-011,D15 §4,"resources/lang/en/app.php, resources/views (secondary hints)","tests/Feature/BilingualContentTest.php",completed,"English available for API docs, error messages, and optional UI hints"
API-001,Integration,Standardized JSON API envelope,D02 BR-016,D08 §3,"app/Http/Resources/*, routes/api.php","tests/Feature/ApiEnvelopeTest.php",completed,"Data/meta/links structure; error consistency across endpoints"
API-002,Integration,OpenAPI 3.0 specification,D02 BR-016,D08 §11,"docs/openapi/v1.yml (machine-readable spec)","tests/Feature/OpenAPIValidationTest.php",not-started,"Specification file to be created; CI job to validate vs implementation"
API-003,Integration,Request/response contract validation,D02 BR-017,D08 §11,"tests/Feature/ApiContractTest.php, docs/openapi/v1.yml (Pact)","tests/Feature/ApiContractTest.php",in-progress,"Consumer-driven contracts pending; OpenAPI spec first deliverable"
SEC-001,Security,Secrets storage in GitHub Secrets only,D02 BR-018,D11 §6,"bootstrap/app.php (env var loading), .github/workflows/* (secret references)","tests/Feature/SecretsTest.php::test_no_secrets_in_repo",completed,"CI job runs trufflehog; no secrets in commit history"
SEC-002,Security,Database encryption at rest,D02 BR-019,D11 §6,"config/database.php [SSL mode], database (column-level encryption for PII)","tests/Feature/EncryptionTest.php",in-progress,"Column-level encryption for user PII pending; full implementation in sprint 2"
SEC-003,Security,Key rotation procedures,D02 BR-020,D11 §6,"scripts/security/rotate-encryption-keys.sh (to be created), D11 runbook",NA,not-started,"Runbook to be created with exact HSM/Vault integration steps"

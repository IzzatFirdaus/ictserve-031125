---
applyTo: "resources/views/**,app/Livewire/**,app/Filament/**"
description: "WCAG 2.2 AA accessibility standards, semantic HTML, ARIA attributes, keyboard navigation, and screen reader support for ICTServe"
---

# Accessibility (a11y) — ICTServe WCAG 2.2 AA Standards

## Purpose & Scope

Web Content Accessibility Guidelines (WCAG) 2.2 Level AA compliance for ICTServe. Covers semantic HTML, ARIA attributes, keyboard navigation, color contrast, and screen reader support.

**Traceability**: D14 (UI/UX Design Guide), D15 (Accessibility Requirements), WCAG 2.2 AA

---

## WCAG 2.2 AA Requirements

### 1. Perceivable

#### Color Contrast (1.4.3)

**Minimum Contrast Ratios**:
- Normal text: **4.5:1**
- Large text (18px+ or 14px+ bold): **3:1**

```html
<!-- ✅ GOOD: High contrast (21:1) -->
<p class="text-gray-900 bg-white">Black on White</p>

<!-- ❌ BAD: Low contrast (2.8:1) — FAILS WCAG -->
<p class="text-gray-400 bg-white">Gray-400 on White</p>
```

**Check Contrast**: https://webaim.org/resources/contrastchecker/

---

#### Alternative Text for Images (1.1.1)

```html
<!-- ✅ GOOD: Descriptive alt text -->
<img src="laptop.jpg" alt="Laptop Dell Latitude 5420 dengan skrin 14 inci">

<!-- ✅ GOOD: Decorative image (empty alt) -->
<img src="decorative-border.png" alt="">

<!-- ❌ BAD: Missing alt -->
<img src="laptop.jpg">

<!-- ❌ BAD: Useless alt -->
<img src="laptop.jpg" alt="image">
```

---

#### Text Alternatives for Non-Text Content

```html
<!-- Icon with label -->
<button aria-label="Padam aset">
    <svg aria-hidden="true" class="w-5 h-5">...</svg>
</button>

<!-- Video with captions -->
<video controls>
    <source src="tutorial.mp4" type="video/mp4">
    <track kind="captions" src="captions-ms.vtt" srclang="ms" label="Bahasa Melayu">
</video>
```

---

### 2. Operable

#### Keyboard Navigation (2.1.1)

**All Interactive Elements Must Be Keyboard Accessible**:

```html
<!-- ✅ GOOD: Button (naturally keyboard accessible) -->
<button class="btn">Klik Saya</button>

<!-- ❌ BAD: Div as button (not keyboard accessible) -->
<div onclick="doSomething()">Klik Saya</div>

<!-- ✅ GOOD: Div with keyboard support -->
<div
    role="button"
    tabindex="0"
    @click="doSomething()"
    @keydown.enter="doSomething()"
    @keydown.space.prevent="doSomething()"
>
    Klik Saya
</div>
```

**Tab Order**:
```html
<input type="text" tabindex="1">
<input type="email" tabindex="2">
<button tabindex="3">Submit</button>
```

---

#### Skip Navigation Link (2.4.1)

```html
<a href="#main-content" class="sr-only focus:not-sr-only">
    Langkau ke kandungan utama
</a>

<main id="main-content">
    <!-- Main content -->
</main>
```

**Screen Reader Only Class** (Tailwind):
```css
.sr-only
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;


.sr-only:focus
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;

```

---

#### Focus Visible (2.4.7)

**Always Provide Visible Focus Indicators**:

```html
<!-- ✅ GOOD: Visible focus ring -->
<button class="bg-blue-600 text-white px-4 py-2 rounded focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
    Button with Focus
</button>

<!-- ❌ BAD: No focus indicator -->
<button class="bg-blue-600 text-white px-4 py-2 rounded focus:outline-none">
    Button WITHOUT Focus
</button>
```

---

### 3. Understandable

#### Form Labels (3.3.2)

**All Form Inputs Must Have Labels**:

```html
<!-- ✅ GOOD: Explicit label -->
<label for="name" class="block mb-2">Nama Aset</label>
<input
    type="text"
    id="name"
    name="name"
    class="form-control"
    aria-required="true"
>

<!-- ❌ BAD: No label -->
<input type="text" name="name" placeholder="Nama">
```

---

#### Error Identification (3.3.1)

```html
<div class="mb-4">
    <label for="email" class="block mb-2">E-mel</label>
    <input
        type="email"
        id="email"
        aria-describedby="email-error"
        aria-invalid="true"
        class="border border-red-500"
    >
    <p id="email-error" class="text-red-600 text-sm mt-1" role="alert">
        Format e-mel tidak sah.
    </p>
</div>
```

---

#### Consistent Navigation (3.2.3)

**Keep Navigation Consistent Across Pages**:
```html
<nav aria-label="Navigasi utama">
    <ul>
        <li><a href="/">Dashboard</a></li>
        <li><a href="/assets">Aset</a></li>
        <li><a href="/borrowings">Pinjaman</a></li>
    </ul>
</nav>
```

---

### 4. Robust

#### Valid HTML (4.1.1)

**Use Semantic HTML**:

```html
<!-- ✅ GOOD: Semantic elements -->
<header>
    <nav aria-label="Navigasi utama">...</nav>
</header>

<main>
    <article>
        <h1>Tajuk Artikel</h1>
        <p>Kandungan...</p>
    </article>
</main>

<footer>...</footer>

<!-- ❌ BAD: Non-semantic divs -->
<div class="header">
    <div class="nav">...</div>
</div>

<div class="main">
    <div class="article">...</div>
</div>
```

---

#### ARIA Landmarks

```html
<header role="banner">...</header>
<nav role="navigation" aria-label="Navigasi utama">...</nav>
<main role="main">...</main>
<aside role="complementary">...</aside>
<footer role="contentinfo">...</footer>
<form role="search">...</form>
```

---

## ARIA Attributes

### Common ARIA Attributes

**`aria-label`** — Provides accessible name:
```html
<button aria-label="Tutup dialog">
    <svg>...</svg> <!-- Icon only -->
</button>
```

**`aria-labelledby`** — References label element:
```html
<h2 id="modal-title">Padam Aset</h2>
<div role="dialog" aria-labelledby="modal-title">
    <p>Adakah anda pasti?</p>
</div>
```

**`aria-describedby`** — References description:
```html
<input
    type="password"
    aria-describedby="password-hint"
>
<p id="password-hint">Sekurang-kurangnya 8 aksara.</p>
```

**`aria-hidden`** — Hides from screen readers:
```html
<svg aria-hidden="true" class="decorative-icon">...</svg>
```

**`aria-live`** — Announces dynamic content:
```html
<div aria-live="polite" aria-atomic="true">
    3 item baharu ditambah.
</div>
```

**`aria-expanded`** — Toggle state:
```html
<button
    aria-expanded="false"
    aria-controls="dropdown-menu"
    @click="open = !open"
>
    Menu
</button>
<div id="dropdown-menu" x-show="open">...</div>
```

---

## Keyboard Shortcuts

**Common Keyboard Patterns**:

| Element | Keys |
|---------|------|
| Button | `Enter`, `Space` |
| Link | `Enter` |
| Checkbox | `Space` |
| Radio | Arrow keys |
| Dropdown | `Enter`/`Space` to open, Arrow keys to navigate, `Esc` to close |
| Modal | `Esc` to close, Tab trap within modal |

**Example: Modal with Focus Trap**:
```html
<div
    role="dialog"
    aria-modal="true"
    aria-labelledby="modal-title"
    @keydown.escape="closeModal()"
    x-data=" open: false "
    x-show="open"
    x-trap="open"
>
    <h2 id="modal-title">Tajuk Modal</h2>
    <button @click="closeModal()">Tutup</button>
</div>
```

---

## Screen Reader Support

### Announce Dynamic Content

```html
<!-- Loading state -->
<div aria-live="polite" aria-busy="true">
    <span class="sr-only">Sedang memuatkan...</span>
    <svg class="animate-spin">...</svg>
</div>

<!-- Success message -->
<div role="status" aria-live="polite">
    Aset berjaya disimpan.
</div>
```

---

### Hide Decorative Elements

```html
<!-- Decorative icon -->
<svg aria-hidden="true" class="w-5 h-5">...</svg>

<!-- Functional icon with label -->
<button aria-label="Padam">
    <svg aria-hidden="true">...</svg>
</button>
```

---

## Testing Accessibility

### Manual Testing

1. **Keyboard Navigation**: Can you navigate entire page with Tab/Enter/Arrows?
2. **Screen Reader**: Use NVDA (Windows) or VoiceOver (Mac)
3. **Color Contrast**: Check with browser DevTools
4. **Zoom**: Test at 200% zoom level

---

### Automated Testing

**axe DevTools** (Browser Extension):
- Chrome: https://chrome.google.com/webstore (search "axe DevTools")
- Firefox: https://addons.mozilla.org/en-US/firefox/addon/axe-devtools/

**Lighthouse** (Built into Chrome DevTools):
```bash
# Run from command line
lighthouse https://ictserve.local --only-categories=accessibility
```

---

## Accessibility Checklist

- [ ] All images have descriptive `alt` text
- [ ] Color contrast meets 4.5:1 (normal text) or 3:1 (large text)
- [ ] All interactive elements keyboard accessible
- [ ] Visible focus indicators on all focusable elements
- [ ] Form inputs have associated `<label>` elements
- [ ] Error messages linked with `aria-describedby`
- [ ] Semantic HTML used (`<nav>`, `<main>`, `<article>`, etc.)
- [ ] ARIA landmarks defined
- [ ] Skip navigation link provided
- [ ] Dynamic content announced (`aria-live`)
- [ ] Modals trap focus
- [ ] Valid HTML (no errors in W3C validator)

---

## References

- **WCAG 2.2**: https://www.w3.org/WAI/WCAG22/quickref/
- **WebAIM**: https://webaim.org/resources/
- **A11y Project**: https://www.a11yproject.com/
- **axe DevTools**: https://www.deque.com/axe/devtools/
- **ICTServe**: D14 (UI/UX Design), D15 (Accessibility Requirements)

---

**Status**: ✅ Production-ready
**Last Updated**: 2025-11-01

@tailwind base;
@tailwind components;
@tailwind utilities;

/* WCAG 2.2 AA Compliant Color Palette - CSS Custom Properties */
@layer base {
    :root {
        /* Primary Colors (MOTAC Branding) */
        --motac-blue: #0056b3; /* 6.8:1 contrast ratio */
        --motac-blue-light: #e3f2fd; /* Light variant */
        --motac-blue-dark: #003d82; /* Dark variant */

        /* Status Colors (Compliant) */
        --success: #198754; /* 4.9:1 contrast ratio */
        --success-light: #d1e7dd;
        --success-dark: #0f5132;

        --warning: #ff8c00; /* 4.5:1 contrast ratio */
        --warning-light: #fff3cd;
        --warning-dark: #cc7000;

        --danger: #b50c0c; /* 8.2:1 contrast ratio */
        --danger-light: #f8d7da;
        --danger-dark: #8a0909;

        --info: #0dcaf0; /* Information states */
        --info-light: #cff4fc;
        --info-dark: #087990;

        /* Neutral Colors */
        --gray-50: #f9fafb;
        --gray-100: #f3f4f6;
        --gray-200: #e5e7eb;
        --gray-300: #d1d5db;
        --gray-400: #9ca3af;
        --gray-500: #6b7280;
        --gray-600: #4b5563;
        --gray-700: #374151;
        --gray-800: #1f2937;
        --gray-900: #111827;
    }
}

/* Global Focus Indicator (WCAG 2.2 SC 2.4.7, 2.4.11, 2.4.13)
 * Requirements: 3-4px outline, 2px offset, 3:1 contrast ratio minimum
 * Implementation: 4px ring (outline), 2px offset, motac-blue (#0056b3) provides 6.8:1 contrast
 * CRITICAL: Must NOT apply to elements with focus:ring-* utilities
 * Solution: Put defaults in @layer base BEFORE utilities, use :not() with explicit class checks
 */
@layer base {
    /* Apply ONLY to elements WITHOUT any focus:ring-* classes */
    *:not(.focus\:ring-0):not(.focus\:ring-1):not(.focus\:ring-2):not(.focus\:ring-4):not(.focus\:ring-8):not(.focus\:ring):focus-visible {
        @apply outline-none ring-4 ring-motac-blue ring-offset-2;
    }
}
/* WCAG Role-based focus indicators for interactive elements (textarea, buttons, links, tabindex)
 * CRITICAL: Must exclude elements with explicit focus:ring-* utilities (same pattern as universal rule)
 */
textarea:not(.focus\:ring-0):not(.focus\:ring-1):not(.focus\:ring-2):not(.focus\:ring-4):not(.focus\:ring-8):not(.focus\:ring):focus-visible,
[role="button"]:not(.focus\:ring-0):not(.focus\:ring-1):not(.focus\:ring-2):not(.focus\:ring-4):not(.focus\:ring-8):not(.focus\:ring):focus-visible,
[role="link"]:not(.focus\:ring-0):not(.focus\:ring-1):not(.focus\:ring-2):not(.focus\:ring-4):not(.focus\:ring-8):not(.focus\:ring):focus-visible,
[tabindex]:not([tabindex="-1"]):not(.focus\:ring-0):not(.focus\:ring-1):not(.focus\:ring-2):not(.focus\:ring-4):not(.focus\:ring-8):not(.focus\:ring):focus-visible {
    @apply outline-none ring-4 ring-motac-blue ring-offset-2;
}

/* Touch Targets - WCAG 2.2 SC 2.5.8 (Target Size Minimum)
 * Requirements: Minimum 44Ã—44px for all interactive elements
 */
@layer components {
    .touch-target {
        @apply min-h-[44px] min-w-[44px];
    }

    .btn-base {
        @apply min-h-[44px] min-w-[44px] px-4 py-2.5 rounded-md;
    }

    .input-base {
        @apply block w-full min-h-[44px] px-3 py-2.5 rounded-md shadow-sm;
    }
}

/* Screen Reader Only - Accessibility Utility */
@layer utilities {
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
    }

    .not-sr-only {
        position: static;
        width: auto;
        height: auto;
        padding: 0;
        margin: 0;
        overflow: visible;
        clip: auto;
        white-space: normal;
    }
}

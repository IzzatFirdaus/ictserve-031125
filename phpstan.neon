includes:
  - vendor/larastan/larastan/extension.neon

parameters:
  level: 9
  paths:
    - app
    - bootstrap
    - config
    - database
    - routes

  excludePaths:
    - database/migrations
    - tests
    - tests/Browser  # Exclude Dusk browser tests (require separate Laravel Dusk types)

  treatPhpDocTypesAsCertain: false

  ignoreErrors:
    # Filament framework - Dynamic SDUI classes not available to static analysis
    - '#on an unknown class Filament#'

    # Model property access - Dynamic Eloquent properties (relations, accessors, mutators)
    - '#Access to an undefined property (object|Illuminate\\Database\\Eloquent\\Model)::\$#'

    # NOTE: Following patterns temporarily unused (2025-11-01)
    # Uncomment if analyzing tests/ directory or if errors re-emerge

    # - '#Class App\\Filament\\Resources\\.*\\Pages\\.* not found#'
    # - '#Parameter.*of function view expects view-string#'
    # - '#Call to an undefined method Illuminate\\Testing\\TestResponse::assertSeeLivewire\(\)#'
    # - '#Call to an undefined method Illuminate\\Testing\\TestResponse::assertCanSeeTableRecords\(\)#'
    # - '#Access to an undefined property Livewire\\Features\\SupportTesting\\Testable::\$#'
    # - '#Call to an undefined method .*::shouldReceive\(\)#'
    # - '#Call to an undefined method .*::shouldNotReceive\(\)#'
    # - '#Call to an undefined method .*::expects\(\)#'
    # - '#Call to an undefined static method Illuminate\\Support\\Facades\\Log::shouldHaveReceived\(\)#'
    # - '#Property .* does not accept Mockery\\MockInterface#'
    # - '#contains unresolvable type#'
    # - '#method.unresolvableReturnType#'
    # - '#Trait .* is used zero times and is not analysed#'
    # - '#Trait .* is never used#'
    # - '#Call to an undefined method Illuminate\\Contracts\\Filesystem\\Filesystem::(mimeType|download)\(\)#'
    # - '#Call to method PHPUnit\\Framework\\Assert::assertTrue\(\) with true .* will always evaluate to true#'
    # - '#Call to method PHPUnit\\Framework\\Assert::assertNotNull\(\) with .* will always evaluate to true#'
    # - '#Call to method PHPUnit\\Framework\\Assert::assertIsArray\(\) with array will always evaluate to true#'
    # - '#Call to method PHPUnit\\Framework\\Assert::assertIsString\(\) with string will always evaluate to true#'
    # - '#Call to function is_array\(\) with array will always evaluate to true#'
